<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to Regular Expressions: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="manifest" href="../site.webmanifest">
<link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav software"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="swc-logo" alt="Introduction to Regular Expressions" src="../assets/images/software-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav software" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Introduction to Regular Expressions" src="../assets/images/software-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to Regular Expressions
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to Regular Expressions
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr></ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to Regular Expressions
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress software">
    <div class="progress-bar software" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-intro.html">1. Regular Expressions: The pitch</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-shell-wildcards.html">2. Shell wildcards - a type of regex</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-egrep-find.html">3. Pattern matching with grep -E, part 1</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-egrep-charclasses.html">4. Pattern matching with grep -E, part 2</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
</ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-intro"><p>Content from <a href="01-intro.html">Regular Expressions: The pitch</a></p>
<hr>
<p>Last updated on 2024-10-21 |

        <a href="https://github.com/csiro-data-school/regex-24/edit/main/episodes/01-intro.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 10 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What sort of capabilities do regular expressions provide?</li>
<li>What are regular expressions?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Introduce the concept of regular expressions.</li>
<li>Sell the idea of the power of regular expressions.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-are-regular-expressions">What are regular expressions?<a class="anchor" aria-label="anchor" href="#what-are-regular-expressions"></a>
</h2>
<hr class="half-width">
<p>In short, a regular expression, or rational expression, or regex for
short, is a sequence of characters that act as a pattern for searching
within text. So, what do we mean by pattern?</p>
<p>Consider a calendar date written down, say, 23/08/2018. We all
recognise a date as being a date when we see one written down this way.
Why? Because there’s a consistent pattern to it. We could describe the
pattern of a date written this way as: one or two digits, a forward
slash, one or two digits, a forward slash, then either 2 digits or 4
digits. Using that pattern of what a date looks like, our eyes can scan
a page of text and pick out other dates.</p>
<p>Regular expressions are a formalisation of such patterns into a
consistent syntax, making use of metacharacters of certain meaning, such
that we can guide a computer to search text in a way that is as specific
or as ambiguous as required. It’s a very powerful tool, being able to
search text for patterns instead of just exact words. Taken further, it
also allows for complex find &amp; replaces, where the replacing is also
following a pattern described with the same syntax.</p>
</section><section><h2 class="section-heading" id="the-pitch">The pitch<a class="anchor" aria-label="anchor" href="#the-pitch"></a>
</h2>
<hr class="half-width">
<p>So, have you ever wanted to pull specific information out of a file,
where a straight search for a specific word or phrase wouldn’t cut it?
Perhaps all you knew was the general “shape” of what you were looking
for. For example, you know there’s a date involved, not what the date
is, but that it would <em>look</em> like a date- day/month/year. Or
maybe it’s part of a specific file format; you know the format’s rules,
but not the contents.</p>
<p>Have you ever wanted to search a file for something, but only
actually print out some <em>different</em> nearby information from the
same line?</p>
<p>Have you ever wanted to make bulk changes to a file, where a simple
‘find &amp; replace’ wouldn’t work? Perhaps you’d like to rename a list
of samples, according to a rule based on their current names. Or fix up
some formatting inconsistencies.</p>
<p>Or have you ever wanted to <em>completely</em> rearrange and modify
lines of a file or program output?</p>
<p>These are the situations that regular expressions make really quick
and easy compared to other solutions.</p>
<p>Here’s an example. We have a list of files in folders, each
representing a sample and replicate in an experiment, with some sample
details incorporated into the file names. We wish to automatically
transform this into a table, listing samples, sample information, and
file details.</p>
<figure><img src="../fig/regexDemo1.png" alt="Regex demo1" width="700" class="figure mx-auto d-block"></figure><p>There are numerous ways to do this, but most solutions would be
multi-part, requiring cutting out different bits of information at a
time.<br>
Using a regular expression, this entire transformation can be done in a
single command:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="st">'s/^(.+\/)(s([0-9]+)-R([0-9]+)_([0-9]+)h-(\w+)\.fasta)/Sample\3\tRep\4\t\5hours\t\6\t\2\t\1/'</span></span></code></pre>
</div>
<p>It’s ugly, but it works (which might be the regular expression
catch-phrase).</p>
<p>This is a regular expression substitution, containing a pattern that
matches each part of our file names and another pattern that defines the
rearrangement. A goal at the end of today will be to understand how this
works and to be able to implement similar effects yourselves.</p>
<p>There have been numerous implementations of regular expressions, but
the major common implementations available today all follow a
mostly-consistent syntax, which is what we’ll be learning. So, for
example, once you learn this regex syntax, you’ll then be able to use it
within certain Unix command line utilities <em>and</em> in Python
<em>and</em> in R!</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Regexs are powerful tools for searching and transforming text.</li>
<li>A search pattern, using a defined syntax, allows non-specific but
directed matching.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-02-shell-wildcards"><p>Content from <a href="02-shell-wildcards.html">Shell wildcards - a type of regex</a></p>
<hr>
<p>Last updated on 2024-10-23 |

        <a href="https://github.com/csiro-data-school/regex-24/edit/main/episodes/02-shell-wildcards.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 40 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Are regular expressions available in standard Unix commands?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>(Re)Introduce wildcards available in the Unix shell for file
selection.</li>
<li>‘<code>*</code>’, ‘<code>?</code>’, ‘<code>[ ]</code>’,
‘<code>[! ]</code>’ and ‘<code>{ }</code>’</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>While using a Unix shell, you may have already become familiar with a
simple form of regular expression. Have you ever used a command like
this? ~~~bash ls <em>.txt ~~~<br>
It’s a searchable pattern which means “match anything that ends in
.txt”. The </em> works as a wildcard, expanding to match <em>any</em> of
zero or more characters.</p>
<p>However, there are other wildcards available that allow for more
specific and complex patterns.</p>
<section><h2 class="section-heading" id="to-match-any-single-character">‘?’ to match any single character<a class="anchor" aria-label="anchor" href="#to-match-any-single-character"></a>
</h2>
<hr class="half-width">
<p>The ? wildcard matches any character, but always exactly one
character.<br>
For example: ~~~bash ls sample?.txt<br>
~~~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sample1.txt  sample4.txt  sample7.txt  sampleA.txt  sampleD.txt  sampleY.txt
sample2.txt  sample5.txt  sample8.txt  sampleB.txt  sampleE.txt  sampleZ.txt
sample3.txt  sample6.txt  sample9.txt  sampleC.txt  sampleF.txt</code></pre>
</div>
<div id="try-it-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-1" class="callout-inner">
<h3 class="callout-title">Try it 1</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Write a similar ls command to list .txt files with a 2 digit/char
sample number.<br>
</li>
<li>Write a similar ls command to list for samples specifically in the
range of 10-19.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">ls</span> sample<span class="pp">??</span>.txt</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">ls</span> sample1<span class="pp">?</span>.txt</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>That last challenge was a bit of a gotcha. The solution using ‘?’
would have also picked up a sample “1A”. Not what we were after, but a
good segue for the next concept- matching to a list of options or
ranges.</p>
</section><section><h2 class="section-heading" id="to-match-any-single-character-in-a-list-or-range">‘[ ]’ to match any single character in a list or range<a class="anchor" aria-label="anchor" href="#to-match-any-single-character-in-a-list-or-range"></a>
</h2>
<hr class="half-width">
<p>Use of square brackets <span class="math display">\[ *list* \]</span>
allows matching to a single character, where that character has to match
any of the options listed between the brackets. The brackets may contain
a list, or a range, or a mix of both. For example, to match any one
digit from 0 to 9, the following are equivalent: ~<del>bash<br>
[0123456789] [0-9] [0-789]</del>~</p>
<p>Ranges work for alphabet characters too. The following are
equivalent: ~<del>bash [ABCDEFG] [A-G]</del>~</p>
<p>Important: as always on a Unix shell, case matters! A list of all
alphanumeric characters is:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[a-zA-Z0-9]</span></span></code></pre>
</div>
<p>So back to our earlier challenge of listing files for sample numbers
10-19.<br>
A better solution may be:<br>
~<del>bash ls sample1[0-9].txt</del>~</p>
<p>Remember: an entire ‘[<em>list</em>]’ set will only match a
<em>single</em> listed character at a time.</p>
<div id="try-it-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-2" class="callout-inner">
<h3 class="callout-title">Try it 2</h3>
<div class="callout-content">
<ol start="3" style="list-style-type: decimal">
<li>Write an ls command to list .txt files for samples 2 to 5.<br>
</li>
<li>Write an ls command to list .txt files for samples X, Y and Z and
sample A.<br>
</li>
<li>Write an ls command to list .txt files for samples denoted by a
number followed by a letter (e.g. sample1A).<br>
</li>
<li>Write an ls command to list .txt files for all sample names ending
in a letter.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">ls</span> sample<span class="pp">[</span><span class="ss">2</span><span class="pp">-</span><span class="ss">5</span><span class="pp">]</span>.txt</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">ls</span> sample<span class="pp">[</span><span class="ss">AX</span><span class="pp">-</span><span class="ss">Z</span><span class="pp">]</span>.txt</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="fu">ls</span> sample<span class="pp">[</span><span class="ss">0</span><span class="pp">-</span><span class="ss">9</span><span class="pp">][</span><span class="ss">A</span><span class="pp">-</span><span class="ss">Z</span><span class="pp">]</span>.txt</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">ls</span> sample<span class="pp">*[</span><span class="ss">A</span><span class="pp">-</span><span class="ss">Z</span><span class="pp">]</span>.txt</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="to-match-any-single-character-not-in-a-list-or-range">‘!’ to match any single character NOT in a list or range<a class="anchor" aria-label="anchor" href="#to-match-any-single-character-not-in-a-list-or-range"></a>
</h2>
<hr class="half-width">
<p>Connected to the square bracket notation is the NOT(!) symbol ‘[! ]’.
Use of a ‘!’ inside ‘[ ]’ makes it match to any single character NOT in
the list.<br>
E.g. ~<del>bash [!A]</del>~</p>
<p>… would match any character that’s not A.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">[!0-9]</span></span></code></pre>
</div>
<p>… would match any character that’s not a digit from 0 to 9.</p>
<div id="try-it-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-3" class="callout-inner">
<h3 class="callout-title">Try it 3</h3>
<div class="callout-content">
<ol start="7" style="list-style-type: decimal">
<li>Write an ls command to list .txt files for all samples
<em>other</em> than those numbered 4 to 7 and 9.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">ls</span> sample<span class="pp">[</span><span class="ss">!4</span><span class="pp">-</span><span class="ss">79</span><span class="pp">]*</span>.txt</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="to-list-whole-word-or-expressions-as-options">‘{ }’ to list whole word or expressions as options<a class="anchor" aria-label="anchor" href="#to-list-whole-word-or-expressions-as-options"></a>
</h2>
<hr class="half-width">
<p>Lastly for this section we have the curly brackets ‘{ }’. Like for
square brackets, curly brackets lets you match to one of the options
listed inside. The difference is, this time we list not just single
characters, but entire words or expressions to choose between.<br>
E.g. ‘{alpha,beta,gamma}’ would match ‘alpha’ and ‘beta’ and
‘gamma’.</p>
<p>Real example: ~<del>bash ls sample11.{txt,tab,csv} sample11.csv
sample11.tab sample11.txt</del>~</p>
<p>You can use other wildcard patterns within the listed options.<br>
So these are equivalent:<br>
~~~bash ls <em>.{tab,csv} ls {</em>.tab,*.csv} ~~~</p>
<p>And these are equivalent:<br>
~<del>bash ls sample[A-Z0-9].txt ls sample{[A-Z],[0-9]}.txt</del>~</p>
<p>The curly braces actually have their own range capability, even more
powerful in that it allows for more than single digit numbers:<br>
~<del>bash ls sample{1..15}.txt ls sample{A..C}.txt</del>~</p>
<p>BUT if you’ve spotted the warnings while trying these examples, you
may have guessed the catch with using curly brackets- They
<em>aren’t</em> actually a form of pattern matching! Rather, the first
thing a shell does is expand the brackets out to form <em>all
posibilities</em> listed, in full.</p>
<p>So, when you run the first command below, you’re <em>actually</em>
executing the second command below: ~<del>bash ls sample{A..C}.txt ls
sampleA.txt sampleB.txt sampleC.txt</del>~</p>
<p>Contrast:<br>
~~~bash echo [A-C][1-3] [A-C][1-3]</p>
<p>echo {A..C}{1..3} A1 A2 A3 B1 B2 B3 C1 C2 C3 ~~~</p>
<p>Brace expansion is always the first order of business when the
command line interprets a command. It’s a useful tool, and while not
quite fitting the regular expression theme, the concept of listing
longer options in a this-OR-that fashion will be visited again in proper
regexs.</p>
<div id="try-it-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-4" class="callout-inner">
<h3 class="callout-title">Try it 4</h3>
<div class="callout-content">
<ol start="8" style="list-style-type: decimal">
<li>Write an ls command to list files for samples 8 to 13 and CD.</li>
<li>Write an ls command to list just .csv and .tab files for samples 11
and CD.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">{%raw%}ls</span> sample<span class="dt">{{</span><span class="dv">8</span><span class="dt">..</span><span class="dv">13</span><span class="dt">}</span><span class="op">,</span><span class="dt">CD}</span>.<span class="pp">*</span>{%endraw%}</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">ls</span> sample<span class="dt">{11</span><span class="op">,</span><span class="dt">CD}</span>.<span class="dt">{csv</span><span class="op">,</span><span class="dt">tab}</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>While syntax will differ, the concepts learnt here will remain very
relevant as we next move onto more advanced forms of regular
expression.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use of wildcards in the Unix shell for file selection is a simple
form of regular expressions.</li>
<li>
<code>*</code> matches zero or more characters</li>
<li>
<code>?</code> matches exactly one character</li>
<li>
<code>[ ]</code> matches a character from a list or range of
contained options</li>
<li>
<code>[! ]</code> matches a character NOT in a list or range of
contained options</li>
<li>
<code>{ }</code> expands to produce forms of all listed contained
options</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-03-egrep-find"><p>Content from <a href="03-egrep-find.html">Pattern matching with grep -E, part 1</a></p>
<hr>
<p>Last updated on 2024-10-23 |

        <a href="https://github.com/csiro-data-school/regex-24/edit/main/episodes/03-egrep-find.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 90 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do we write regexs to match complex patterns in files or output
streams?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn the basic syntax of Extended Regular Expressions, using grep
-E</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>You may have used the command ‘grep’ before, which allows you to
search for a matching string. It may be given a file name, to make it
search within a file:<br>
~<del>bash grep ‘react’ wordplay1.txt</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>class   react   exercise        impartial       heavenly
trees   shelf   amused  reactive        sheet
relation        reacting        handsome        ashamed</code></pre>
</div>
<p>Or it can search piped output from another command: ~<del>bash echo
“Hello Andrew, you are Andrew?” | grep -o “Andrew”</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">Andrew</span></span>
<span><span class="va">Andrew</span></span></code></pre>
</div>
<p>In this example, the ‘-o’ flag was used to make grep print only the
matches it finds, rather than whole matching lines. This will be a handy
option when we start testing more ambiguous search patterns later.</p>
<p>For the following lessons, we’ll be making use of grep with a ‘-E’
flag, which enables Extended Regular Expression (ERE) mode for searching
regex patterns. On some systems, an aliased command ‘egrep’ exists. The
regular expression syntax of ‘grep -E’ is the same as that of ‘sed -E’,
which we’ll be using for “find &amp; replace” commands later, and
basically the same as most other implementations of regular
expressions.</p>
<section><h2 class="section-heading" id="for-matching-this-or-that">‘|’ for matching this or that<a class="anchor" aria-label="anchor" href="#for-matching-this-or-that"></a>
</h2>
<hr class="half-width">
<p>Like in the ‘if’ statements of most programming languages, the pipe
character acts as an OR, allowing matching to any of the listed options.
~<del>bash grep -E ‘boat|bolt|bell’ wordplay1.txt</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>bolt    glow    shaky   lumpy   hypnotic
bell    spiritual       materialistic   rule    sponge
exclusive       color   harbor  boat    bedroom</code></pre>
</div>
<p>Round brackets may be used to group terms together. This grouping has
multiple uses, as you’ll see as we continue, but one is to group OR
options together. E.g.:<br>
~<del>bash grep -E ‘b(oat|olt|ell)’ wordplay1.txt</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>bolt    glow    shaky   lumpy   hypnotic
bell    spiritual       materialistic   rule    sponge
exclusive       color   harbor  boat    bedroom</code></pre>
</div>
<p>Consider the following: ~<del>bash echo “ABC” | grep -E -o
‘(A|B)C’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">BC</span></span></code></pre>
</div>
<p>Using ‘-o’ to print matching part only, why wasn’t the ‘A’ included
in result? The search pattern asked for either a A or a B which was
followed by a C. Only the B met this criteria.</p>
<div id="try-it-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-1" class="callout-inner">
<h3 class="callout-title">Try it 1</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Write a grep -E command to search wordplay1.txt for either ‘corn’ or
‘cow’</li>
<li>Try the above with -w option enabled (match as whole words
only)</li>
<li>Write a grep -E command to search wordplay1.txt for either
‘reaction’ or ‘reactive’</li>
<li>Write an alternative working answer to 3.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<blockquote>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">'corn|cow'</span> wordplay1.txt</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-w</span> <span class="st">'corn|cow'</span> wordplay1.txt</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">'reaction|reactive'</span> wordplay1.txt</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">'reacti(on|ve)'</span> wordplay1.txt</span></code></pre>
</div>
</blockquote>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="to-match-any-single-character-in-a-list-or-range">‘[ ]’ to match any single character in a list or range<a class="anchor" aria-label="anchor" href="#to-match-any-single-character-in-a-list-or-range"></a>
</h2>
<hr class="half-width">
<p>This may sound familiar…</p>
<p>Use of square brackets <span class="math display">\[ *list* \]</span>
allows matching to a single character, where that character has to match
any of the options listed between the brackets. The brackets may contain
a list, or a range, or a mix of both. For example, to match any one
digit from 0 to 9, the following are equivalent: ~<del>bash [0123456789]
[0-9] [123-789]</del>~</p>
<p>Ranges work for alphabet characters too. The following are
equivalent: ~<del>bash [ABCDEFG] [A-G]</del>~</p>
<p>Important: as always on a Unix shell, case matters! A list of all
alphanumeric characters is: ~<del>bash [a-zA-Z0-9]</del>~</p>
<p>Example: ~<del>bash echo “bog bag cog cot tog log lag” | grep -E -o
‘[a-z]og’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">bog</span></span>
<span><span class="va">cog</span></span>
<span><span class="va">tog</span></span>
<span><span class="va">log</span></span></code></pre>
</div>
<p>Example: ~<del>bash echo “1952 1986 2003 1995 2018” | grep -E -o
‘20[0-9][0-9]’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2003</span></span>
<span><span class="fl">2018</span></span></code></pre>
</div>
<div id="try-it-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-2" class="callout-inner">
<h3 class="callout-title">Try it 2</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Write a grep -E command to search wordplay1.txt for 4-letter words
ending in ‘oat’</li>
<li>What if you didn’t know if the words started with lower case or
capitol letters?</li>
<li>What if <em>any</em> of the letters could be upper case or lower
case?</li>
<li>Write an alternative working answer to 3.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-w</span> <span class="at">-o</span> <span class="st">'[a-z]oat'</span> wordplay1.txt</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-w</span> <span class="at">-o</span> <span class="st">'[a-zA-Z]oat'</span> wordplay1.txt</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-w</span> <span class="at">-o</span> <span class="st">'[a-zA-Z][oO][aA][tT]'</span> wordplay1.txt</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-w</span> <span class="at">-o</span> <span class="at">-i</span> <span class="st">'[a-z]oat'</span> wordplay1.txt</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co"># grep -i ignores case (see 'man grep')</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>When used within square brackets, a ‘^’ means “NOT”. For example
‘[^ABC]’ would match any one character that <em>wasn’t</em> A or B or
C.</p>
<p>Example: ~<del>bash echo “bog bag cog cot tog log lag” | grep -E -o
‘[^b][a-z]g’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">cog</span></span>
<span><span class="va">tog</span></span>
<span><span class="va">log</span></span>
<span><span class="va">lag</span></span></code></pre>
</div>
<div id="try-it-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-3" class="callout-inner">
<h3 class="callout-title">Try it 3</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Modify your ‘oat’ word finder to find any 4-letter ‘oat’ words other
than ‘boat’ and ‘goat’</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<blockquote>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-w</span> <span class="at">-o</span> <span class="st">'[^bg]oat'</span> wordplay1.txt</span></code></pre>
</div>
</blockquote>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="match-start-of-line-or-end-of-line">Match start of line ^ or end of line $<a class="anchor" aria-label="anchor" href="#match-start-of-line-or-end-of-line"></a>
</h2>
<hr class="half-width">
<p>The ‘^’ symbol has another use. When placed at the start of a regex
pattern, it anchors the pattern such that it must match from the start
of a line.<br>
Similarly, a ‘$’, when placed at the end of a regex pattern, anchors the
pattern such that it must match up to the end of a line.<br>
Consider the following examples demonstrating the effect: ~<del>bash
grep -E ‘repeat’ wordplay1.txt</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>repeat  drum    quilt   superficial     uncovered
copper  bad     unpack  repeat  old-fashioned
sheet   accessible      word    enthusiastic    repeat</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">'^repeat'</span> wordplay1.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>repeat  drum    quilt   superficial     uncovered</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">'repeat$'</span> wordplay1.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sheet   accessible      word    enthusiastic    repeat</code></pre>
</div>
<p>There will be more use for these anchors when we get into more
complex patterns with wildcards.</p>
</section><section><h2 class="section-heading" id="is-the-match-anything-regex-wildcard">‘.’ is the match-anything regex wildcard<a class="anchor" aria-label="anchor" href="#is-the-match-anything-regex-wildcard"></a>
</h2>
<hr class="half-width">
<p>Speaking of, the match-anything wildcard (any single character) for
regular expressions is a period, ‘.’</p>
<p>Consider: ~<del>bash grep -E -o ‘.oat’ wordplay1.txt</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">boat</span></span>
<span>        <span class="va">oat</span></span>
<span><span class="va">loat</span></span>
<span><span class="va">coat</span></span>
<span><span class="va">goat</span></span></code></pre>
</div>
<p>For the short word “oat”, it was the preceeding tab character that
the wildcard matched.</p>
<p>One more concept to introduce before we get into some better examples
of using this wildcard.</p>
</section><section><h2 class="section-heading" id="matching-multiples-of-things">Matching multiples of things<a class="anchor" aria-label="anchor" href="#matching-multiples-of-things"></a>
</h2>
<hr class="half-width">
<p>What if you wanted to match something that repeated multiple
times?<br>
Any single character, bracket expression or grouping, can be modified to
specify number of occurances, with one of the following:</p>
<table class="table">
<thead><tr class="header">
<th>Symbol(s)</th>
<th>Effect</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>?</td>
<td>Present either one time or <em>no</em> times (0-1)</td>
</tr>
<tr class="even">
<td>*</td>
<td>Present <em>any</em> number of times, including zero (0+)</td>
</tr>
<tr class="odd">
<td>+</td>
<td>Present at least once, but any number of times (1+)</td>
</tr>
<tr class="even">
<td>{n}</td>
<td>Repeated exactly ‘n’ times</td>
</tr>
<tr class="odd">
<td>{n,m}</td>
<td>Repeated between ‘n’ and ‘m’ times</td>
</tr>
<tr class="even">
<td>{n,}</td>
<td>Repeated at least ‘n’ times</td>
</tr>
<tr class="odd">
<td>{,m}</td>
<td>Repeated at most ‘m’ times</td>
</tr>
</tbody>
</table>
<p>For example, what if we wanted to search for ‘colour’ but maybe it
had US spelling? ~<del>bash grep -E ‘colou?r’ wordplay1.txt</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>exclusive       color   harbor  boat    bedroom</code></pre>
</div>
<p>Here the ‘?’ modifier let the preceeding ‘u’ match either one time OR
zero times.</p>
<p>Lets find all words from our words file that are at least 12 letters
long: ~<del>bash grep -E -o ‘[a-z]{12,}’ wordplay1.txt</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">materialistic</span></span>
<span><span class="va">distribution</span></span>
<span><span class="va">enthusiastic</span></span>
<span><span class="va">sophisticated</span></span></code></pre>
</div>
<div id="pattern-repetition" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="pattern-repetition" class="callout-inner">
<h3 class="callout-title">Pattern repetition</h3>
<div class="callout-content">
<p>Note, it’s probably clear from the previous example that, when
specifying repetition of a pattern in this way, e.g. “match any letter
from a to z, 12 or more times”, it’s the general ambiguous pattern
concept which is repeated, not a specific matching case. Hence we found
12 lots of “any letter” in a row, rather than “any letter” and then 12
repeats of that letter.</p>
</div>
</div>
</div>
<div id="greediness" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="greediness" class="callout-inner">
<h3 class="callout-title">Greediness</h3>
<div class="callout-content">
<p>Regular expression search patterns are considered “greedy”. That is,
when you use ‘+’ or ‘*’ or ‘{n,}’, they will always match the
<em>longest</em> possible string that still fits the pattern.<br>
E.g. ‘.*’, which means “any character, zero or more times”, will always
match an entire line without further specific context around it.</p>
</div>
</div>
</div>
<div id="try-it-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-4" class="callout-inner">
<h3 class="callout-title">Try it 4</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Use ‘grep -E -o’ on wordplay1.txt to match <em>all</em> of any line
that starts with a ‘c’<br>
</li>
<li>Use ‘grep -E -o’ on wordplay1.txt to match the <em>first word</em>
of lines starting with a ‘c’<br>
</li>
<li>Modify previous answer to keep words 5 or 6 letters long only.</li>
<li>Use ‘grep -E -o’ on wordplay1.txt to match both ‘stand’ and
‘outstanding’</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<blockquote>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'^c.+'</span> wordplay1.txt</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'^c[a-z]+'</span> wordplay1.txt</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="at">-w</span> <span class="st">'^c[a-z]{4,5}'</span> wordplay1.txt</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'(out)?stand(ing)?'</span> wordplay1.txt</span></code></pre>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<p>What if we wanted to match a date, and didn’t know if the year would
be 2 digits or 4? Our pattern for a date is “a digit, from 0-9, either
one or two of them, then a forward slash, then a digit, either one or
two of them, then either 2 digits OR 4 digits.” ~<del>bash echo
“11/06/91 not/a/date 5/9/2018” | grep -E -o
‘[0-9]{1,2}/[0-9]{1,2}/([0-9]{2}|[0-9]{4})’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">11</span><span class="op">/</span><span class="fl">06</span><span class="op">/</span><span class="fl">91</span></span>
<span><span class="fl">5</span><span class="op">/</span><span class="fl">9</span><span class="op">/</span><span class="fl">2018</span></span></code></pre>
</div>
<p>Alternatively, if we were sure about the sensibleness of the contents
we were searching, we may get away with just: ~<del>bash echo “11/06/91
5/9/2018” | grep -E -o ‘[0-9]+/[0-9]+/[0-9]+’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">11</span><span class="op">/</span><span class="fl">06</span><span class="op">/</span><span class="fl">91</span></span>
<span><span class="fl">5</span><span class="op">/</span><span class="fl">9</span><span class="op">/</span><span class="fl">2018</span></span></code></pre>
</div>
<div id="try-it-5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-5" class="callout-inner">
<h3 class="callout-title">Try it 5</h3>
<div class="callout-content">
<p>Have a look at ‘namesndates.txt’ (<code>cat namesndates.txt</code>)
1. Use ‘grep -E -o’ on namesndates.txt to list times (e.g. 20:57). 2.
Use ‘grep -E -o’ on namesndates.txt to list all calendar dates. 3.
Consider extra information we know about dates: days will be at most 31,
months at most 12.<br>
Could we use aspects of this information within our regex for more
sensibleness checking?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<blockquote>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'[0-9]{1,2}:[0-9]{1,2}'</span> namesndates.txt</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'[0-9]{1,2}/[0-9]{1,2}/([0-9]{2}|[0-9]{4})'</span> namesndates.txt</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'[0-3]?[0-9]/[0-1]?[0-9]/([0-9]{2}|[0-9]{4})'</span> namesndates.txt</span></code></pre>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>grep in Extended Regex mode (or egrep) allows complex pattern
matching in files/streams.</li>
<li>
<code>|</code> acts as an OR between options</li>
<li>
<code>( )</code> allows grouping, e.g. for OR modifier, with
quantifiers, etc..</li>
<li>
<code>[ ]</code> matches a character from a list or range of
contained options</li>
<li>
<code>[^ ]</code> matches a character NOT in a list or range of
contained options</li>
<li>
<code>^</code> at the start of a regex means match at start of
line</li>
<li>
<code>$</code> at the end of a regex means match at end of line</li>
<li>
<code>.</code> is the match-all (any single character) wildcard</li>
<li>
<code>?</code> quantifies previous character or group as occurring
zero or one time</li>
<li>
<code>*</code> quantifies previous character or group as occurring
zero or more times</li>
<li>
<code>+</code> quantifies previous character or group as occurring
one or more times</li>
<li>
<code>{n,m}</code> quantifies previous character or group as
occurring between n and m times</li>
<li>Quantifiers are greedy- will always match longest possible fit.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-04-egrep-charclasses"><p>Content from <a href="04-egrep-charclasses.html">Pattern matching with grep -E, part 2</a></p>
<hr>
<p>Last updated on 2024-10-23 |

        <a href="https://github.com/csiro-data-school/regex-24/edit/main/episodes/04-egrep-charclasses.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do we use predefined character classes for more complex search
patterns?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn to incorporate predefined character classes into regular
expressions.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="predefined-character-classes">Predefined character classes<a class="anchor" aria-label="anchor" href="#predefined-character-classes"></a>
</h2>
<hr class="half-width">
<p>The Extended Regular Expression syntax has a number of predefined
character groupings that may be written as a word, rather than a
collection or range of characters.<br>
For example, you may write <code>[[:digit:]]</code> instead of writing
<code>[0-9]</code>.</p>
<table class="table">
<thead><tr class="header">
<th>Written as</th>
<th>Equivalent to</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>[[:digit:]]</td>
<td>[0-9]</td>
</tr>
<tr class="even">
<td>[[:alpha:]]</td>
<td>[a-zA-Z]</td>
</tr>
<tr class="odd">
<td>[[:alnum:]]</td>
<td>[a-zA-Z0-9]</td>
</tr>
<tr class="even">
<td>[[:upper:]]</td>
<td>[A-Z]</td>
</tr>
<tr class="odd">
<td>[[:lower:]]</td>
<td>[a-z]</td>
</tr>
<tr class="even">
<td>[[:space:]]</td>
<td>Spaces, tabs, in some contexts new-lines</td>
</tr>
<tr class="odd">
<td>[[:graph:]]</td>
<td>Any printable character other than space</td>
</tr>
<tr class="even">
<td>[[:punct:]]</td>
<td>Any printable character other than space or [a-zA-Z0-9]</td>
</tr>
</tbody>
</table>
<div id="why" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why" class="callout-inner">
<h3 class="callout-title">Why?</h3>
<div class="callout-content">
<p>Why would you write <code>[[:digit:]]</code> instead of writing
<code>[0-9]</code>? Or <code>[[:upper:]]</code> instead of
<code>[A-Z]</code>? In general, for our use, there’s little difference
other than readability/style. The difference comes if you need to make
things more universal, as Arabic-numerals are not the only number system
in use around the world and the 26-letter English alphabet is not the
only writing system. So, for example, while <code>[0-9]</code> will
always just be those specific 10 characters, <code>[[:digit:]]</code>
may have multiple alternate numeric systems encoded.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="regex-shorthand-escape-symbols">Regex shorthand escape symbols<a class="anchor" aria-label="anchor" href="#regex-shorthand-escape-symbols"></a>
</h2>
<hr class="half-width">
<p>The other way you may refer to predefined character classes, and the
way you will likely most commonly do so from here on, is using the
following shorthands, formed by “escaping” certain characters with a
backslash. For example ‘\w’ can be used to match to any “word”
character, which means any letter, number, or (counterintuitively) an
underscore.<br>
The shorthand symbols available are:</p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Written as</th>
<th>Equivalent to</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>\w</td>
<td>“Word” character [a-zA-Z0-9] OR a _ (underscore)</td>
</tr>
<tr class="even">
<td>\W</td>
<td>[^\\w] Inverse of \w, any non-“word” character</td>
</tr>
<tr class="odd">
<td>\s</td>
<td>Spaces, tabs, in some contexts new-lines</td>
</tr>
<tr class="even">
<td>\S</td>
<td>[^\\s] Inverse of \s, any non-space character</td>
</tr>
<tr class="odd">
<td>\b</td>
<td>Boundary between “words” and “spaces” (0-length)</td>
</tr>
<tr class="even">
<td>\B</td>
<td>[^\\b] In the middle of a “word” or multiple “spaces”
(0-length)</td>
</tr>
<tr class="odd">
<td>\&lt;</td>
<td>Boundary at <em>start</em> of “word” between “words” and “spaces”
(0-length)</td>
</tr>
<tr class="even">
<td>\&gt;</td>
<td>Boundary at <em>end</em> of “word” between “words” and “spaces”
(0-length)</td>
</tr>
</tbody>
</table>
<p>Those last four are considered “anchors”. They don’t actually match
characters, but they can give a regex pattern more context, helping to
orientate components. For example, a letter being specifically at the
start of a word.</p>
<p>The following are also commonly used within regex syntax (e.g. will
work in Python or R), but <strong>are not understood by grep or
sed</strong>:</p>
<table class="table">
<thead><tr class="header">
<th>Written as</th>
<th>Equivalent to</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>\d</td>
<td>[0-9] A digit</td>
</tr>
<tr class="even">
<td>\D</td>
<td>[^0-9] Not a digit</td>
</tr>
<tr class="odd">
<td>\t</td>
<td>A tab character (does work in some version of sed, test yours)</td>
</tr>
<tr class="even">
<td>\n</td>
<td>A newline, if program supports multi-line matching</td>
</tr>
</tbody>
</table>
<p>Here are some examples.<br>
The first two words of a line (start of line, word, space(s), word):
~<del>bash echo ‘word1 word_2 thirdWord’ | grep -E -o ‘^+++’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>word1 word_2</code></pre>
</div>
<p>A word with spaces at both ends: ~<del>bash echo ‘word1 word_2
thirdWord!?’ | grep -E -o ‘+’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span> <span class="va">word_2</span> </span></code></pre>
</div>
<p>Every set of consecutive non-space characters: ~<del>bash echo ‘word1
word_2 thirdWord!?’ | grep -E -o ‘+’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>word1
word_2
thirdWord!?</code></pre>
</div>
<p>Everything up to the boundary of the last word: ~<del>bash echo
‘word1 word_2 thirdWord!?’ | grep -E -o ‘.+&lt;’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>word1 word_2  </code></pre>
</div>
<p>The middle characters of each word (bounded by not-a-word-boundary):
~<del>bash echo ‘word1 word_2 thirdWord!?’ | grep -E -o ‘+’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">ord</span></span>
<span><span class="va">ord_</span></span>
<span><span class="va">hirdWor</span></span></code></pre>
</div>
<div id="try-it-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-1" class="callout-inner">
<h3 class="callout-title">Try it 1</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Use ‘grep -E -o’ on wordplay1.txt to print the first 2 words of any
line using<br>
</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>[[:alpha:]] and [[:space:]]<br>
</li>
<li>\w and \s<br>
</li>
<li>\S and \s<br>
</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li>Use ‘grep -E -o’, with \w and \b, on wordplay1.txt to print a word
that starts with ‘p’ and ends with ‘g’.<br>
</li>
<li>Use ‘grep -E’, with \w and \&lt;, on wordplay1.txt to highlight the
first letter of every word.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'^[[:alpha:]]+[[:space:]]+[[:alpha:]]+'</span> wordplay1.txt </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'^\w+\s+\w+'</span> wordplay1.txt  </span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'^\S+\s+\S+'</span> wordplay1.txt</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'\bp\w+g\b'</span> wordplay1.txt</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">'\&lt;\w'</span> wordplay1.txt</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="tab-characters" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tab-characters" class="callout-inner">
<h3 class="callout-title">Tab characters</h3>
<div class="callout-content">
<p>There are a few options for getting a tab character to work with grep
or sed on a bash command line (if a space ‘\s’ or word boundary anchor
will not be specific enough):<br>
1. On some systems, pressing ctrl+v followed by tab, will insert a
literal tab character.<br>
2. On some systems, a literal tab could be copy and pasted in from a
text editor.<br>
3. A dollar sign in front of pattern can enable escape character
interpretation in bash, based on ANSI-C rules, where ‘\t’ is a
tab.<br>
E.g. <code>echo $'|\t|'</code> OR <code>grep -E $'\t'</code><br>
This last option is neatest, but beware other conflicting escape
character interpretations in this mode, meaning that to use ‘\w’ or ‘\b’
etc., you will need to double-escape them, with two slashes.<br>
E.g. for a word with tabs either side:
<code>grep -E $'\t\\w+\t'</code></p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="capturing-groups-and-back-references">Capturing groups and back-references<a class="anchor" aria-label="anchor" href="#capturing-groups-and-back-references"></a>
</h2>
<hr class="half-width">
<p>We’d mentioned earlier that round brackets ( ) have multiple uses.
One use is to “capture” a match seen within the round brackets,
remembering the contents of what matched within, such that a copy of the
contents may be referred to again. We’ll make much use of this feature
in the next lesson, for find-n-replace substitutions! Within grep
though, a “back-reference” to a captured group can be used to identify
something that repeats identically within a line. The reference to the
previously seen item is used in the form ‘\number’. It works like
this:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'blah1 blah2 blah2 blah4?'</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'(\w+)\s+\1'</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>blah2 blah2</code></pre>
</div>
<p>Here a word ‘\w+’ is “captured” by the round brackets, is followed by
space, then is referenced again by ‘\1’, which represents a stored copy
of what was originally matched by the ‘\w+’. Hence this grep only
matches a case where a word is followed by another copy of that same
word.</p>
<p>If we’d like to make multiple back-references, we use multiple pairs
of round brackets and increment our back-reference number by one for
each open bracket from left-to-right. E.g.:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'blah1 blah2 blah2 blah4?'</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'([a-z]+)([0-9])\s+\1\2'</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>blah2 blah2</code></pre>
</div>
<p>We had the same outcome, but stored letters part “blah” separate to
the digits part “2”, then referred to the two captured parts as ‘\1’ and
‘\2’ respectively.</p>
<p>Consider the following: ~<del>bash echo ‘ABCDEFGGFEDCBA’ | grep -E -o
‘()()()\3\2\1’</del>~</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">EFGGFE</span></span></code></pre>
</div>
<p>Our pattern matched to three letters, then to those same three
letters repeated again, but <em>in reverse order</em>!</p>
<div id="try-it-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="try-it-2" class="callout-inner">
<h3 class="callout-title">Try it 2</h3>
<div class="callout-content">
<ol start="4" style="list-style-type: decimal">
<li>Grep ‘wordplay1.txt’ to print the only line that contains the same
word repeated twice. Hint: You may need to use the ‘\b’ word-boundary
anchor.</li>
<li>Grep ‘namesndates.txt’ to print the name of a person whose firstname
and surname start with the same letter.</li>
<li>Grep ‘namesndates.txt’ to print a date where the month and the day
are the same number.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">'\b(\w+)\b.+\b\1\b'</span> wordplay1.txt</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'^(\w)\w+\s\1\w+'</span> namesndates.txt</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-E</span> <span class="at">-o</span> <span class="st">'([0-9]{2})/\1/[0-9]{4}'</span> namesndates.txt</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>grep in Extended Regex mode has a number of predefined character
classes:</li>
<li><code>[:alpha:]  [:alnum:]  [:digit:]  [:upper:]  [:lower:]  [:punct:]  [:space:]</code></li>
<li>and escape-character enabled shorthand character classes and
anchors:</li>
<li>
<code>\\w</code> : Word character [a-zA-Z0-9] OR a _
(underscore)</li>
<li>
<code>\\W</code> : <code>[^\\w]</code> Inverse of \w, any non-word
character</li>
<li>
<code>\\s</code> : Spaces, tabs, in some contexts new-lines</li>
<li>
<code>\\S</code> : <code>[^\\s]</code> Inverse of \s, any non-space
character</li>
<li>
<code>\\b</code> : Boundary between adjacent word and space,
0-length anchor</li>
<li>
<code>\\B</code> : <code>[^\\b]</code> In the middle of a word or
multiple spaces, 0-length anchor</li>
<li>
<code>\\&lt;</code> : Boundary at <em>start</em> of word between
word and space, 0-length anchor</li>
<li>
<code>\\&gt;</code> : Boundary at <em>end</em> of word between word
and space, 0-length anchor</li>
<li>You can refer back to an exact copy of a matched (group) using \1,
\2, etc..</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/csiro-data-school/regex-24/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/csiro-data-school/regex-24/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/csiro-data-school/regex-24/" class="external-link">Source</a></p>
				<p><a href="https://github.com/csiro-data-school/regex-24/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:david.spadaro@csiro.au">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.9" class="external-link">sandpaper (0.16.9)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.6" class="external-link">pegboard (0.7.6)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.4" class="external-link">varnish (1.0.4)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://csiro-data-school.github.io/regex-24/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "regex, regular expressions, grep, sed",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://csiro-data-school.github.io/regex-24/instructor/aio.html",
  "identifier": "https://csiro-data-school.github.io/regex-24/instructor/aio.html",
  "dateCreated": "2024-10-21",
  "dateModified": "2024-10-23",
  "datePublished": "2024-10-23"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

